{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta 
        name="viewport" 
        content="width=device-width, initial-scale=1.0, shrink-to-fit=no, maximum-scale=1, minimum-scale=1">
    <title>{% block title %}Django App{% endblock %}</title>
    <link rel="stylesheet", href="{% static 'css/details.css' %}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />




</head>
<style>
    .floating-button {
        display: none;
    }
        
    @media screen and (max-width: 768px) {
        .floating-button {
            width: 80px;
            height: 80px;
            background-color: #009879;
            color: #ffffff;
            display: flex;
            font-size: 40px;
            border-radius: 50%;
            font-size: 40px;
            text-decoration: none;
            justify-content: center;
            align-items: center;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.25);
            position: fixed;
            right: 20px;
            bottom: 20px;
            border: none;
            cursor: pointer;
        }
        .floating-button:hover{
            background-color: #007D63;
        }
    }
</style>
<body>
    <div class="navbar">
        <a class="navbar-head" href="{% url 'home' %}">
            <span class="navbar-head-header">Gunbadrakh</span>
            <span class="navbar-head-bottom">Real Estate Agent</span>
        </a>
        
        <div class="navigation-expand">
            <ul class="navbar-nav">
                <li class="navbarItem">
                    <a href="{% url 'about' %}">Бидний тухай</a>
                </li>
                <li class="navbarItem">
                    <a href="{% url 'services' %}">Үйлчилгээ</a>
                </li>
                <li class="navbarItem">
                    <a href="{% url 'properties' %}">Үл хөдлөхийн жагсаалт</a>
                </li>
                <li class="navbarItem">
                    <a href="{% url 'client_resources' %}">Танд туслья</a>
                </li>
            </ul>
        </div>
        <a href="#" class="material-icons floating-button">call</a>
        
        

        <div class="dropdown">
            <a class="dropdown-item" href="{% url 'about' %}">About</a>
            <a class="dropdown-item" href="{% url 'services' %}">Services</a>
            <a class="dropdown-item" href="{% url 'properties' %}">Properties List</a>
            <a class="dropdown-item" href="{% url 'client_resources' %}">Client Resources</a>
        </div>
        <div class="menu" id = "menu">
            <div>
                <span class="line-1"></span>
                <span class="line-2"></span>
                <span class="line-3"></span>
            </div>
        </div>
        <a href="{% url 'home' %}" class="phone-number">976-  97 00 07 45</a>
        
    </div>
    
    
    
    
    <div class="container">{% block content %} {% endblock %}</div>
    
    <div class="carousel">
        <div class="carousel-inner">
            {% for p in photos %}
            <div class="carousel-item">
                <img src="{{ p.image.url }}" alt="Slide {{ forloop.counter }}">
            </div>
            {% endfor %}
        </div>
        <div class="carousel-control-wrapper">
            <a class="carousel-control carousel-control-prev" href="javascript:void(0)" role="button" onclick="prevSlide()">
                &lt;
            </a>
            <a class="carousel-control carousel-control-next" href="javascript:void(0)" role="button" onclick="nextSlide()">
                &gt;
            </a>
        </div>
    </div>
    
    <div class="properties_info">
        <h1>{{ properties.address }}</h1>
        <div class="properties_info_details">
            <p><i class="material-icons">bed</i> Унтлаганы өрөө: {{ properties.bedrooms }}</p>
            <p><i class="material-icons">home</i> Мкв: {{ properties.sqr_meter }}</p>
            <p><i class="material-icons">attach_money</i> <span class="price">{{ properties.price_sqrm }}</span></p>
            <p><i class="material-icons">attach_money</i> Нийт үнэ: {{ properties.price_total }}</p>
            <p><i class="material-icons">handshake</i> Нөхцөл : {{ properties.get_condition_display }}</p>
        </div>    
        <div class="properties_description">
            <p>{{ properties.description }}</p>
        </div>
    </div>    
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    


    <script>
        let currentIndex = 0;

        function showSlide(index) {
            const carouselInner = document.querySelector('.carousel-inner');
            const totalSlides = document.querySelectorAll('.carousel-item').length;
            index = (index + totalSlides) % totalSlides;
            currentIndex = index;
            const translateValue = -index * 100;
            carouselInner.style.transform = `translateX(${translateValue}%)`;
        }

        function nextSlide() {
            showSlide(currentIndex + 1);
        }

        function prevSlide() {
            showSlide(currentIndex - 1);
        }
    </script>
    <script>
        var menu = document.getElementById('menu');
        menu.onclick = function(){
            menu.classList.toggle("openmenu");
            document.querySelector('.navigation-expand').classList.toggle('active');
            document.querySelector('.navbar').classList.toggle('active');
        }
    </script>

</body>
</html>